<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>GUI(图形用户接口)定制化指导 &#8212; Ren&#39;Py 中文文档</title>
    <link rel="stylesheet" href="_static/renpydoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="编程语言基础" href="language_basics.html" />
    <link rel="prev" title="快速入门" href="quickstart.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Ren&#39;Py 中文文档</a>
        <span class="navbar-text navbar-version pull-left"><b>7.0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="https://www.renpy.org">官方主页</a></li>
                <li><a href="https://www.renpy.cn/forum.php/">Ren&#39;Py中文空间</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">快速入门</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">GUI(图形用户接口)定制化指导</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="language_basics.html">编程语言基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="label.html">脚本标签(label)和主控流程</a></li>
<li class="toctree-l1"><a class="reference internal" href="dialogue.html">对话(dialogue)和旁白(narration)</a></li>
<li class="toctree-l1"><a class="reference internal" href="displaying_images.html">显示图像</a></li>
<li class="toctree-l1"><a class="reference internal" href="menus.html">游戏内菜单</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python语句</a></li>
<li class="toctree-l1"><a class="reference internal" href="conditional.html">条件语句</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">音频</a></li>
<li class="toctree-l1"><a class="reference internal" href="movie.html">影片</a></li>
<li class="toctree-l1"><a class="reference internal" href="voice.html">语音</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="text.html">文本</a></li>
<li class="toctree-l1"><a class="reference internal" href="translation.html">多语言支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="displayables.html">可视组件</a></li>
<li class="toctree-l1"><a class="reference internal" href="transforms.html">变换</a></li>
<li class="toctree-l1"><a class="reference internal" href="transitions.html">转场(transition)</a></li>
<li class="toctree-l1"><a class="reference internal" href="atl.html">动画和变换语言</a></li>
<li class="toctree-l1"><a class="reference internal" href="layeredimage.html">层叠式图像</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="style.html">样式(style)</a></li>
<li class="toctree-l1"><a class="reference internal" href="style_properties.html">样式特性(property)</a></li>
<li class="toctree-l1"><a class="reference internal" href="screens.html">界面和界面语言</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_actions.html">界面动作(action)、值(value)和函数</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_special.html">特殊界面名称</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_optimization.html">界面语言优化</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">配置项变量</a></li>
<li class="toctree-l1"><a class="reference internal" href="preferences.html">环境设定配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="store_variables.html">存储区配置项</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer_tools.html">开发者工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="director.html">交互式指导器(interactive director)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nvl_mode.html">NVL模式教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">文本输入</a></li>
<li class="toctree-l1"><a class="reference internal" href="side_image.html">头像</a></li>
<li class="toctree-l1"><a class="reference internal" href="rooms.html">画廊、音乐空间和场景回放</a></li>
<li class="toctree-l1"><a class="reference internal" href="drag_drop.html">拖放组件</a></li>
<li class="toctree-l1"><a class="reference internal" href="sprites.html">精灵(sprite)</a></li>
<li class="toctree-l1"><a class="reference internal" href="keymap.html">定制按键映射</a></li>
<li class="toctree-l1"><a class="reference internal" href="achievement.html">成就</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">对话历史</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple.html">多角色对话</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="statement_equivalents.html">等效语句</a></li>
<li class="toctree-l1"><a class="reference internal" href="save_load_rollback.html">存档、读档和回滚</a></li>
<li class="toctree-l1"><a class="reference internal" href="persistent.html">持久化数据</a></li>
<li class="toctree-l1"><a class="reference internal" href="trans_trans_python.html">Python中的变换(transform)和转场(transition)</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_advanced.html">高级GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_python.html">界面与Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="modes.html">模式</a></li>
<li class="toctree-l1"><a class="reference internal" href="udd.html">创作者定义的可视组件</a></li>
<li class="toctree-l1"><a class="reference internal" href="cds.html">创作者定义的语句</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_text_tags.html">定制文本标签</a></li>
<li class="toctree-l1"><a class="reference internal" href="character_callbacks.html">角色回调函数</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_python.html">文件读写</a></li>
<li class="toctree-l1"><a class="reference internal" href="color_class.html">Color类</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">其他函数和配置变量</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="build.html">生成分发版</a></li>
<li class="toctree-l1"><a class="reference internal" href="updater.html">web更新器</a></li>
<li class="toctree-l1"><a class="reference internal" href="android.html">安卓(Android)</a></li>
<li class="toctree-l1"><a class="reference internal" href="chromeos.html">Chrome OS/Chrome浏览器</a></li>
<li class="toctree-l1"><a class="reference internal" href="ios.html">iOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="iap.html">程序内购</a></li>
<li class="toctree-l1"><a class="reference internal" href="gesture.html">手势</a></li>
<li class="toctree-l1"><a class="reference internal" href="raspi.html">树莓派</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="problems.html">处理故障</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">环境变量</a></li>
<li class="toctree-l1"><a class="reference internal" href="self_voicing.html">自动语音</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="editor.html">集成文本编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="skins.html">皮肤</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating_renpy.html">Ren’Py多语言支持</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">完整变更日志</a></li>
<li class="toctree-l1"><a class="reference internal" href="incompatible.html">Incompatible Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributor.html">Distributor Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="sponsors.html">Ren’Py Development Sponsors</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="thequestion.html">Script of The Question</a></li>
<li class="toctree-l1"><a class="reference internal" href="thequestion_nvl.html">NVL-模式 “The Question” 脚本</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="搜索" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">GUI(图形用户接口)定制化指导</a><ul>
<li><a class="reference internal" href="#simple-gui-customization">简单GUI定制化</a><ul>
<li><a class="reference internal" href="#change-size-and-colors">更改尺寸和颜色</a></li>
<li><a class="reference internal" href="#options-rpy">Options.rpy文件</a></li>
<li><a class="reference internal" href="#game-and-main-menu-background-images">游戏和主菜单背景图像</a></li>
<li><a class="reference internal" href="#window-icon">窗口图标</a></li>
</ul>
</li>
<li><a class="reference internal" href="#intermediate-gui-customization">中级GUI定制化</a><ul>
<li><a class="reference internal" href="#dialogue">对话(dialogue)</a></li>
<li><a class="reference internal" href="#choice-menu">选项菜单(choice menu)</a></li>
<li><a class="reference internal" href="#overlay-image">叠加图片(overlay image)</a></li>
<li><a class="reference internal" href="#colors-fonts-and-font-sizes">颜色，字体和字号</a></li>
<li><a class="reference internal" href="#borders">Borders(边界)</a></li>
<li><a class="reference internal" href="#button">按钮(button)</a></li>
<li><a class="reference internal" href="#save-slot-buttons">存档槽位按钮</a></li>
<li><a class="reference internal" href="#slider">滑块(slider)</a></li>
<li><a class="reference internal" href="#scrollbar">scrollbar(滚动条)</a></li>
<li><a class="reference internal" href="#bar">条(bar)</a></li>
<li><a class="reference internal" href="#skip-notify">跳过(skip)和通知(notify)</a></li>
<li><a class="reference internal" href="#dialogue-continued">对话(dialogue)-续</a><ul>
<li><a class="reference internal" href="#textbox">文本框(textbox)</a></li>
<li><a class="reference internal" href="#name-namebox">名字(name)和名字框(namebox)</a></li>
<li><a class="reference internal" href="#dialogue-2">对话(dialogue)</a></li>
<li><a class="reference internal" href="#gui-examples">样例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#history">历史(history)</a></li>
<li><a class="reference internal" href="#nvl">NVL</a></li>
<li><a class="reference internal" href="#text">文本(Text)</a></li>
<li><a class="reference internal" href="#translation-gui">多语言支持(translation)和GUI配置项</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-customization">高级定制化</a><ul>
<li><a class="reference internal" href="#style">样式(style)</a></li>
<li><a class="reference internal" href="#screens-navigation">界面——引导(Screens - Navigation)</a></li>
<li><a class="reference internal" href="#screens-game-menu">界面——游戏菜单(Screens - Game Menu)</a></li>
<li><a class="reference internal" href="#screens-click-to-continue">界面——单击继续</a></li>
<li><a class="reference internal" href="#total-gui-replacement">GUI整体替换</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">更多</a></li>
<li><a class="reference internal" href="#gui-changes">不兼容的GUI变更</a><ul>
<li><a class="reference internal" href="#id23">6.99.12.3</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="gui">
<span id="gui-customization-guide"></span><h1>GUI(图形用户接口)定制化指导<a class="headerlink" href="#gui" title="Permalink to this headline"> link</a></h1>
<p>Ren’Py的一个特色是，看起来挺萌的GUI系统。有需要的话还可以根据喜好完全替换成定制的GUI。本页内容阐述了如何制作出简单和中级的定制化GUI。</p>
<p>如果需要做更深度的定制化，请参阅 <a class="reference internal" href="style.html#styles"><span class="std std-ref">样式</span></a> (包括 <a class="reference internal" href="style_properties.html#style-properties"><span class="std std-ref">样式特性</span></a>)
和 <a class="reference internal" href="screens.html#screens"><span class="std std-ref">界面</span></a> (包括 <a class="reference internal" href="screen_actions.html#screen-actions"><span class="std std-ref">界面动作</span></a>
和 <a class="reference internal" href="screen_special.html#screen-special"><span class="std std-ref">特殊界面</span></a> )。</p>
<p>这是基于你在使用新样式的Ren’Py GUI为前提(定制化配置包含在gui.rpy文件中)。使用老版本的GUI(使用screen.rpy文件进行定制化配置)的用户，应该把本页内容当作是深度定制化指导。</p>
<div class="section" id="simple-gui-customization">
<span id="id1"></span><h2>简单GUI定制化<a class="headerlink" href="#simple-gui-customization" title="Permalink to this headline"> link</a></h2>
<p>GUI定制化工作包含几个简单部分，对所有项目都适用而不仅仅针对最简单的视觉小说。这些定制化工作的共同点是，都不需要编辑gui.rpy文件。这些定制化会给GUI带来一些微妙的变化，而不是让GUI彻底改头换面。</p>
<div class="section" id="change-size-and-colors">
<span id="id2"></span><h3>更改尺寸和颜色<a class="headerlink" href="#change-size-and-colors" title="Permalink to this headline"> link</a></h3>
<p>改变GUI的尺寸和颜色是最简单的事情。当你第一次创建项目时，Ren’Py会提示你选择尺寸和颜色，在启动器的“更改/更新 GUI”选项中，你可以更改之前的选择。</p>
<p>当你通过启动器更改了GUI的选项后，Ren’Py会进一步提示，你是只修改启动器中选项还是需要更新gui.rpy文件。无论选择何种方式，大部分的图片文件都会重新生成并覆盖。覆盖gui.rpy文件会应用之前对gui.rpy做的修改。</p>
<p>因此，在实行其他的定制化之前，你很可能需要先完成这步工作。</p>
<p>Ren’Py会提示选择项目的默认分辨率和配色主题。选择后GUI就会生效。</p>
</div>
<div class="section" id="options-rpy">
<span id="id3"></span><h3>Options.rpy文件<a class="headerlink" href="#options-rpy" title="Permalink to this headline"> link</a></h3>
<p>options.rpy文件中有一堆配置项会被GUI使用。</p>
<dl class="docutils">
<dt><a class="reference internal" href="config.html#var-config.name"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.name</span></code></a></dt>
<dd>一个字符串，表示该游戏一个“人类可读的”标题名称。这个字符串同时用在窗口标题和GUI需要显示游戏标题的地方。</dd>
<dt><code class="xref std std-var docutils literal notranslate"><span class="pre">gui.show_name</span></code></dt>
<dd>这个配置项应该被设置为False，用于在画面主菜单中隐藏标题名字和版本号。(因为，标题应是被“镶嵌”在主菜单的图片中)</dd>
<dt><a class="reference internal" href="config.html#var-config.version"><code class="xref std std-var docutils literal notranslate"><span class="pre">config.version</span></code></a></dt>
<dd>一个字符串，表示游戏版本号。这在多个场合都会呈现在用户面前。</dd>
<dt><code class="xref std std-var docutils literal notranslate"><span class="pre">gui.about</span></code></dt>
<dd>在关于(about)界面上的附加文本内容。如果你想要展示多行的credits(制作人员信息)，可以使用 \n\n 换行。</dd>
</dl>
<p>这是一个包含以上配置项的样例:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Old School High School&#39;</span><span class="p">)</span>

<span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">show_name</span> <span class="o">=</span> <span class="bp">True</span>

<span class="k">define</span> <span class="n">config</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>

<span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">about</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Created by PyTom.</span><span class="se">\n\n</span><span class="s2">High school backgrounds by Mugenjohncel.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>为了省事，gui.about的定义使用3个双引号，中间可以包含换行。</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">about</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">Created by PyTom.</span>

<span class="s2">High school backgrounds by Mugenjohncel.&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="game-and-main-menu-background-images">
<span id="id4"></span><h3>游戏和主菜单背景图像<a class="headerlink" href="#game-and-main-menu-background-images" title="Permalink to this headline"> link</a></h3>
<p>GUI使用的图像文件在game/gui目录下，也可以通过启动器的“打开目录：gui”选项打开对应的目录。比较重要的几个图片文件为：</p>
<dl class="docutils">
<dt>gui/main_menu.png</dt>
<dd>用于主菜单的所有界面背景的图片文件。</dd>
<dt>gui/game_menu.png</dt>
<dd>用于游戏菜单所有界面背景的图片文件。</dd>
</dl>
<div class="figure" id="id24">
<a class="reference internal image-reference" href="_images/easy_main_menu.jpg"><img alt="_images/easy_main_menu.jpg" src="_images/easy_main_menu.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">只有gui/main_menu.png被替换后的主菜单。</span></p>
</div>
<div class="figure" id="id25">
<a class="reference internal image-reference" href="_images/easy_game_menu.jpg"><img alt="_images/easy_game_menu.jpg" src="_images/easy_game_menu.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">“关于(about)”界面可以是游戏菜单(使用gui/game_menu.png文件作为背景)或者主菜单(使用gui/main_menu.png作为背景)。两种菜单可以被设置为同一张图片。</span></p>
</div>
</div>
<div class="section" id="window-icon">
<span id="id5"></span><h3>窗口图标<a class="headerlink" href="#window-icon" title="Permalink to this headline"> link</a></h3>
<p>正在运行程序都有一个对应的图标显示在某个地方(例如Windows平台的任务栏和mac电脑的dock)。</p>
<p>我们可以通过更换gui/window_icon.png改变窗口图标。</p>
<p>注意，改变gui/window_icon.png后，只对游戏正在运行时的图标有效。想要改变Windows平台的“.exe”文件和mac平台的应用程序图标，我们需要看看
<a class="reference internal" href="build.html#special-files"><span class="std std-ref">生成文档</span></a>.</p>
</div>
</div>
<div class="section" id="intermediate-gui-customization">
<span id="id6"></span><h2>中级GUI定制化<a class="headerlink" href="#intermediate-gui-customization" title="Permalink to this headline"> link</a></h2>
<p>接下来，我们会演示中级GUI定制化。定位于中等级别，就有可能改变游戏中的配色、字体和图片。大体上，中级定制化基本保留了界面的原样，比如按钮和条(bar)，不过会修改界面并添加一些新功能。</p>
<p>很多修改都可以通过在gui.rpy文件中编辑配置项实现。例如，需要增大字号，可以找到这样一行:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">font_size</span> <span class="o">=</span> <span class="mi">22</span>
</pre></div>
</div>
<p>增大或者减小字号的话，修改为:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">font_size</span> <span class="o">=</span> <span class="mi">20</span>
</pre></div>
</div>
<p>注意，一些默认值通常跟这份文档样例中并不一致。在创建游戏项目之初，就可以通过选择尺寸和颜色来修改这些默认值，而gui.rpy文件中的默认值可以看作可扩展GUI定制化的样例。可以搜索“The Question”项目中gui.rpy文件内各种配置项的定义，例如搜索“define gui.font_size”。</p>
<p>接下去说的某些调整，会对部分或者全部对图片文件产生影响。例如在启动器选择“修改/更新 GUI”并要求引擎重新生成图片文件，导致图片文件本身被更新和改变。(但是注意，这种操作会导致你之前修改过的任何图片文件也被重新覆盖。)</p>
<p>你可能会等到游戏接近完成的情况下才考虑对gui.rpy进行定制化修改。老版本的gui.rpy文件可以在新版本的Re’Py中运行，新版本的gui.rpy文件可能会有老版本缺少的功能特性或者缺陷修复。在项目制作前期就定制化GUI可能会导致，很难利用这些改善和提升。</p>
<div class="section" id="dialogue">
<span id="id7"></span><h3>对话(dialogue)<a class="headerlink" href="#dialogue" title="Permalink to this headline"> link</a></h3>
<p>与“向用户呈现对话相关的定制化”有关的内容有好几项。第一项是文本框(textbox)。</p>
<dl class="docutils">
<dt>gui/textbox.png</dt>
<dd>该文件包含了文本窗口的背景，为say(说话)界面中的一部分。虽然图片大小应该跟游戏分辨率吻合，但是文本内容应该只在中心左右60%的宽度范围内显示，两边各预留20%的边界。</dd>
</dl>
<p>另外，还有另外一些配置项可以定制化，用来改变对话的外观。</p>
<dl class="var">
<dt id="var-gui.text_color">
define <code class="descname">gui.text_color</code> = “#402000”<a class="headerlink" href="#var-gui.text_color" title="Permalink to this definition"> link</a></dt>
<dd><p>该项设置对话文本颜色。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.text_font">
define <code class="descname">gui.text_font</code> = “ArchitectsDaughter.ttf”<a class="headerlink" href="#var-gui.text_font" title="Permalink to this definition"> link</a></dt>
<dd><p>该项设置对话文本、菜单、输入和其他游戏内文字的字体。字体文件需要存在于game目录中。</p>
<p>(译者注：“ArchitectsDaughter”字体不支持中文。后续截图中使用的是类似效果的“方正咆哮体”。)</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.text_size">
define <code class="descname">gui.text_size</code> = 33<a class="headerlink" href="#var-gui.text_size" title="Permalink to this definition"> link</a></dt>
<dd><p>设置对话文本字号。无论增大或缩小字号都需要注意符合文本显示区域的空间限制。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.name_text_size">
define <code class="descname">gui.name_text_size</code> = 45<a class="headerlink" href="#var-gui.name_text_size" title="Permalink to this definition"> link</a></dt>
<dd><p>设置角色名字的文字字号。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.textbox_height">
define <code class="descname">gui.textbox_height</code> = 278<a class="headerlink" href="#var-gui.textbox_height" title="Permalink to this definition"> link</a></dt>
<dd><p>文本框高度。这项应该跟gui.textbox.png文件的高度一致。</p>
</dd></dl>

<p>角色名字标签(label)默认会使用强调色。定义角色时可以很简单地修改为需要的颜色:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">e</span> <span class="o">=</span> <span class="n">Character</span><span class="p">(</span><span class="s2">&quot;Eileen&quot;</span><span class="p">,</span> <span class="n">who_color</span><span class="o">=</span><span class="s2">&quot;#104010&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure" id="id26">
<a class="reference internal image-reference" href="_images/textbox.png"><img alt="_images/textbox.png" src="_images/textbox.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">一个样例文本框(textbox)图片</span></p>
</div>
<div class="figure" id="id27">
<a class="reference internal image-reference" href="_images/easy_say_screen.jpg"><img alt="_images/easy_say_screen.jpg" src="_images/easy_say_screen.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">使用以上描述定制化配置后的对话</span></p>
</div>
</div>
<div class="section" id="choice-menu">
<span id="choice-menus"></span><h3>选项菜单(choice menu)<a class="headerlink" href="#choice-menu" title="Permalink to this headline"> link</a></h3>
<p>选项界面使用menu语句向玩家展现选项。同样的，与选项界面的定制化配置有关的配置项有好几个。首先是两个图片文件:</p>
<dl class="docutils">
<dt>gui/button/choice_idle_background.png</dt>
<dd>该图片用作，未获取到焦点时，选项按钮的背景。</dd>
<dt>gui/button/choice_hover_background.png</dt>
<dd>该图片用作，获取到焦点，选项按钮的背景。</dd>
</dl>
<p>默认情况下，文本被放置在这些图片的中心左右75%宽度范围内。还有一堆配置项可能控制选项按钮文本的颜色。</p>
<dl class="var">
<dt id="var-gui.choice_button_text_idle_color">
define <code class="descname">gui.choice_button_text_idle_color</code> = ‘#888888’<a class="headerlink" href="#var-gui.choice_button_text_idle_color" title="Permalink to this definition"> link</a></dt>
<dd><p>未获取到焦点的选项按钮文本颜色。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.choice_text_hover_color">
define <code class="descname">gui.choice_text_hover_color</code> = ‘#0066cc’<a class="headerlink" href="#var-gui.choice_text_hover_color" title="Permalink to this definition"> link</a></dt>
<dd><p>获取到焦点的选项按钮文本颜色。</p>
</dd></dl>

<p>只关注这几个配置项就可以满足简单定制化需求，而不需要改变图片尺寸。对于更复杂的定制化需求，再关注下面这些选项按钮的部分：</p>
<div class="figure" id="id28">
<a class="reference internal image-reference" href="_images/choice_idle_background.png"><img alt="_images/choice_idle_background.png" src="_images/choice_idle_background.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">gui/button/idle_background.png的一个样例图片。</span></p>
</div>
<div class="figure" id="id29">
<a class="reference internal image-reference" href="_images/choice_hover_background.png"><img alt="_images/choice_hover_background.png" src="_images/choice_hover_background.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">gui/button/choice_hover_background.png的一个样例图片。</span></p>
</div>
<div class="figure" id="id30">
<a class="reference internal image-reference" href="_images/easy_choice_screen.jpg"><img alt="_images/easy_choice_screen.jpg" src="_images/easy_choice_screen.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">使用以上描述定制化配置后的选择界面样例。</span></p>
</div>
</div>
<div class="section" id="overlay-image">
<span id="overlay-images"></span><h3>叠加图片(overlay image)<a class="headerlink" href="#overlay-image" title="Permalink to this headline"> link</a></h3>
<p>还有一些叠加图片需要介绍。这些图片用于暗化或者亮化背景图片，使得按钮等其他用户图形组件更醒目。这些图片被放在overlay目录下：</p>
<dl class="docutils">
<dt>gui/overlay/main_menu.png</dt>
<dd>主菜单界面的叠加图片。</dd>
<dt>gui/overlay/game_menu.png</dt>
<dd>“游戏菜单类”界面，包括读档、存档、preference(环境设定)、关于(about)、help(帮助)等，使用的叠加图片。在“The Question”游戏中，同一个叠加图像用在包括主菜单等各种界面上。</dd>
<dt>gui/overlay/confirm.png</dt>
<dd>用在选择确认界面暗化背景的叠加图片。</dd>
</dl>
<p>这里有一些叠加图片样例文件，以及使用叠加图片后游戏界面的感观变化。</p>
<div class="figure" id="id31">
<a class="reference internal image-reference" href="_images/main_menu.png"><img alt="_images/main_menu.png" src="_images/main_menu.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">gui/overlay/main_menu.png图片文件的一个样例。</span></p>
</div>
<div class="figure" id="id32">
<a class="reference internal image-reference" href="_images/game_menu.png"><img alt="_images/game_menu.png" src="_images/game_menu.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">gui/overlay/game_menu.png图片文件的一个样例。</span></p>
</div>
<div class="figure" id="id33">
<a class="reference internal image-reference" href="_images/overlay_main_menu.jpg"><img alt="_images/overlay_main_menu.jpg" src="_images/overlay_main_menu.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">更换叠加图片后的主菜单界面。</span></p>
</div>
<div class="figure" id="id34">
<a class="reference internal image-reference" href="_images/overlay_game_menu.jpg"><img alt="_images/overlay_game_menu.jpg" src="_images/overlay_game_menu.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">更换叠加图片后的游戏菜单界面。</span></p>
</div>
</div>
<div class="section" id="colors-fonts-and-font-sizes">
<span id="id8"></span><h3>颜色，字体和字号<a class="headerlink" href="#colors-fonts-and-font-sizes" title="Permalink to this headline"> link</a></h3>
<p>这里有一些GUI配置项可用于更改文本的颜色、字体和字号。</p>
<p>这些颜色配置项应该总是被设置为十六进制的颜色代码，格式为“#rrggbb”的字符串(或者“#rrggbbaa”这样带有alpha通道的字符串)，类似于在网页浏览器上常用的颜色代码。例如, "#663399"是 <a href="http://www.economist.com/blogs/babbage/2014/06/digital-remembrance" style="text-decoration: none; color: rebeccapurple">靓紫色</a>的代码.
现在有不少在线工具用于查询HTML颜色代码，这是
<a href="http://htmlcolorcodes.com/color-picker/">其中一个</a>.</p><p>除了上面提到的 <a class="reference internal" href="#var-gui.text_color"><code class="xref std std-var docutils literal notranslate"><span class="pre">gui.text_color</span></code></a> 、 <code class="xref std std-var docutils literal notranslate"><span class="pre">gui.choice_idle_color</span></code> 、 和 <code class="xref std std-var docutils literal notranslate"><span class="pre">gui.choice_hover_color</span></code> ，
还有下面这些配置项:</p>
<dl class="var">
<dt id="var-gui.accent_color">
define <code class="descname">gui.accent_color</code> = ‘#000060’<a class="headerlink" href="#var-gui.accent_color" title="Permalink to this definition"> link</a></dt>
<dd><p>在GUI很多地方都会使用的强调色，例如使用在标题和标签中。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.idle_color">
define <code class="descname">gui.idle_color</code> = ‘#606060’<a class="headerlink" href="#var-gui.idle_color" title="Permalink to this definition"> link</a></dt>
<dd><p>大多数按钮在未获取焦点或未被选择时的颜色。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.idle_small_color">
define <code class="descname">gui.idle_small_color</code> = ‘#404040’<a class="headerlink" href="#var-gui.idle_small_color" title="Permalink to this definition"> link</a></dt>
<dd><p>鼠标指针未悬停在小型文本上(例如存档槽的日期名字，及快捷菜单按钮的文字)的颜色。该颜色通常需要比idle_color更亮或者更暗，以抵消文字较小不易突出导致的负面效果。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.hover_color">
define <code class="descname">gui.hover_color</code> = ‘#3284d6’<a class="headerlink" href="#var-gui.hover_color" title="Permalink to this definition"> link</a></dt>
<dd><p>该颜色用于GUI中获得焦点(鼠标悬停)的组件，包括按钮的文本、滑块和滚动条(可动区域)的滑块。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.selected_color">
define <code class="descname">gui.selected_color</code> = ‘#555555’<a class="headerlink" href="#var-gui.selected_color" title="Permalink to this definition"> link</a></dt>
<dd><p>该颜色用于被选择的按钮文本。(这项优先级高于hover鼠标悬停和idle未获取焦点两种情况的颜色设置。)</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.insensitive_color">
define <code class="descname">gui.insensitive_color</code> = ‘#8888887f’<a class="headerlink" href="#var-gui.insensitive_color" title="Permalink to this definition"> link</a></dt>
<dd><p>该颜色用于不接受用户输入的按钮的文本。(例如，一个rollback回滚按钮然而此时并不允许回滚。)</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.interface_text_color">
define <code class="descname">gui.interface_text_color</code> = ‘#404040’<a class="headerlink" href="#var-gui.interface_text_color" title="Permalink to this definition"> link</a></dt>
<dd><p>该颜色用于游戏接口的静态文本，比如在帮助和关于界面上的文本。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.muted_color">
define <code class="descname">gui.muted_color</code> = ‘#6080d0’<a class="headerlink" href="#var-gui.muted_color" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.hover_muted_color">
define <code class="descname">gui.hover_muted_color</code> = ‘#8080f0’<a class="headerlink" href="#var-gui.hover_muted_color" title="Permalink to this definition"> link</a></dt>
<dd><p>沉默色，用于条(bar)、滚动条和滑块无法正确展示数值或者可视区域时，这些组件某些部分的颜色。(这只会出现在重新生成图片，而启动器中图片无法马上生效的情况下。)</p>
</dd></dl>

<p>除了 <a class="reference internal" href="#var-gui.text_font"><code class="xref std std-var docutils literal notranslate"><span class="pre">gui.text_font</span></code></a> 外,还有以下配置项与文本字体有关。配置的字体文件也应该要被放置在游戏目录中。</p>
<dl class="var">
<dt id="var-gui.interface_text_font">
define <code class="descname">gui.interface_text_font</code> = “ArchitectsDaughter.ttf”<a class="headerlink" href="#var-gui.interface_text_font" title="Permalink to this definition"> link</a></dt>
<dd><p>该字体用于用户接口元素的文本，例如主菜单与游戏菜单、按钮之类的。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.glyph_font">
define <code class="descname">gui.glyph_font</code> = “DejaVuSans.ttf”<a class="headerlink" href="#var-gui.glyph_font" title="Permalink to this definition"> link</a></dt>
<dd><p>该字体用于某种文本的glyph(标志符号)，例如用作跳过提示的箭头标志。DejaVuSans是一个针对这些标志符号的字体，而且已经自动包含在Ren’Py游戏中。</p>
</dd></dl>

<p>除了 <a class="reference internal" href="#var-gui.text_size"><code class="xref std std-var docutils literal notranslate"><span class="pre">gui.text_size</span></code></a> 和 <a class="reference internal" href="#var-gui.name_text_size"><code class="xref std std-var docutils literal notranslate"><span class="pre">gui.name_text_size</span></code></a> 外, 下面的几个配置项控制文本字号。</p>
<dl class="var">
<dt id="var-gui.interface_text_size">
define <code class="descname">gui.interface_text_size</code> = 36<a class="headerlink" href="#var-gui.interface_text_size" title="Permalink to this definition"> link</a></dt>
<dd><p>游戏用户接口静态文本的字号，也是游戏接口中按钮文本的默认字号。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.label_text_size">
define <code class="descname">gui.label_text_size</code> = 45<a class="headerlink" href="#var-gui.label_text_size" title="Permalink to this definition"> link</a></dt>
<dd><p>游戏用户接口标签(label)部分的文本字号。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.notify_text_size">
define <code class="descname">gui.notify_text_size</code> = 24<a class="headerlink" href="#var-gui.notify_text_size" title="Permalink to this definition"> link</a></dt>
<dd><p>通知文本字号。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.title_text_size">
define <code class="descname">gui.title_text_size</code> = 75<a class="headerlink" href="#var-gui.title_text_size" title="Permalink to this definition"> link</a></dt>
<dd><p>游戏标题字号。</p>
</dd></dl>

<div class="figure" id="id35">
<a class="reference internal image-reference" href="_images/text.jpg"><img alt="_images/text.jpg" src="_images/text.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">定制化文本颜色、字体和字号后的游戏菜单</span></p>
</div>
</div>
<div class="section" id="borders">
<span id="id9"></span><h3>Borders(边界)<a class="headerlink" href="#borders" title="Permalink to this headline"> link</a></h3>
<p>有一些GUI组件，例如按钮(button)和条(bar)，使用可伸缩的背景的话，还可以配置Borders(边界)对象。在讨论如何定制化按钮和条(bar)之前，我们首先描述一下边界的实现机制。</p>
<p>Borders(边界)是可视组件中 <a class="reference internal" href="displayables.html#Frame" title="Frame"><code class="xref py py-func docutils literal notranslate"><span class="pre">Frame()</span></code></a> 类的可选成员。
一个Frame对象会使用一个图片，然后分割为9块——4块角落，4个边条及1块中心区域。4个角落总是保持相同的尺寸，左右边条水平对齐，上下边条垂直对齐，中心区域在两个维度上都对齐。</p>
<p>Borders(边界)对象按照“左、上、右、下”的顺序，依次给定了边界的尺寸。所以如果使用了如下边界图片的话:</p>
<img alt="_images/borders.png" src="_images/borders.png" />
<p>符合如下定义的Borders(边界)对象:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">Borders</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
</pre></div>
</div>
<p>一个可能的结果是这样:</p>
<img alt="_images/borders1.png" src="_images/borders1.png" />
<p>如果child文字大小发生变化，背景图片也会跟着变化。</p>
<p>一个Border对象也可以被给定padding(内边距)，包括负值的内边距会让child能超出原有范围叠加在边界上。例如，这样的Borderss:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">Borders</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>允许child能够叠加在边条上。注意，由于overlap(叠加)效果导致了边条变小，因为Borders本身现在也占了更少空间。</p>
<img alt="_images/borders2.png" src="_images/borders2.png" />
<p>Borders(边界)也可以被tiled(复制码放)，而不仅仅是伸缩。这取决于配置项，产生的效果如下：</p>
<img alt="_images/borders3.png" src="_images/borders3.png" />
<p>这些样例图片有一点丑，因为我们需要展现他们的工作机制。在练习环节，系统会产生一些更悦目的成果。一个Frame displayable对象被用于放置用户接口组件的Frame背景，我们将以这种情况作为案例。</p>
<p>主Frame窗口可以采用两种方式实现定制化。第一种方式是，更换背景图片文件：</p>
<dl class="docutils">
<dt>gui/frame.png</dt>
<dd>该图片用作主Frame窗口背景。</dd>
</dl>
<p>而第二种方式是定制化配置项。</p>
<dl class="var">
<dt id="var-gui.frame_borders">
define <code class="descname">gui.frame_borders</code> = Borders(15, 15, 15, 15)<a class="headerlink" href="#var-gui.frame_borders" title="Permalink to this definition"> link</a></dt>
<dd><p>该border用于主Frame窗口。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.confirm_frame_borders">
define <code class="descname">gui.confirm_frame_borders</code> = Borders(60, 60, 60, 60)<a class="headerlink" href="#var-gui.confirm_frame_borders" title="Permalink to this definition"> link</a></dt>
<dd><p>该border常用于confirm(确认)提示界面的frame。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.frame_tile">
define <code class="descname">gui.frame_tile</code> = True<a class="headerlink" href="#var-gui.frame_tile" title="Permalink to this definition"> link</a></dt>
<dd><p>若为True，confirm(确认)提示界面的边条和中心会被tiled(复制码放)处理。若为False，做拉伸处理。</p>
</dd></dl>

<div class="figure" id="id36">
<a class="reference internal image-reference" href="_images/frame.png"><img alt="_images/frame.png" src="_images/frame.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">gui/frame.png image的一个样例。</span></p>
</div>
<div class="figure" id="id37">
<a class="reference internal image-reference" href="_images/frame_confirm.jpg"><img alt="_images/frame_confirm.jpg" src="_images/frame_confirm.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">使用以上的定制化配置后的确认提示界面。</span></p>
</div>
</div>
<div class="section" id="button">
<span id="buttons"></span><h3>按钮(button)<a class="headerlink" href="#button" title="Permalink to this headline"> link</a></h3>
<p>(译者注：为了避免与键盘按键key混淆，文档内的button一律翻译为按钮。)</p>
<p>Ren’Py用户接口包括了大量的按钮(button)，这些按钮(button)具有不同的尺寸及不同的用途。最重要的几类按钮是:</p>
<dl class="docutils">
<dt>button</dt>
<dd>基础按钮。在用户接口中，对用户行为进行引导。</dd>
<dt>choice_button</dt>
<dd>用于游戏内菜单的单项选择按钮。</dd>
<dt>quick_button</dt>
<dd>游戏内快速进入游戏菜单的按钮。</dd>
<dt>navigation_button</dt>
<dd>在主菜单和游戏菜单中，用于引导至其他界面和开始游戏的按钮。</dd>
<dt>page_button</dt>
<dd>读档和存档界面用于翻页的按钮。</dd>
<dt>slot_button</dt>
<dd>存档槽位按钮，包含了一个缩略图、存档时间和一个可选的存档名字。后面我们会谈到这些内容的具体细节。</dd>
<dt>radio_button</dt>
<dd>在界面中多组单项选择的按钮。</dd>
<dt>check_button</dt>
<dd>提供勾选项的按钮。</dd>
<dt>test_button</dt>
<dd>环境设定设置界面上，用于音频回放的按钮。这个按钮应该在垂直高度上与滑块一致。</dd>
<dt>help_button</dt>
<dd>用于玩家选择需要何种帮助的按钮。</dd>
<dt>confirm_button</dt>
<dd>用在选择“是”或者“否”的确认界面的按钮。</dd>
<dt>nvl_button</dt>
<dd>用于NVL模式下菜单选项的按钮。</dd>
</dl>
<p>下面这些图片文件用于定制化按钮背景，前提是这些文件存在。</p>
<dl class="docutils">
<dt>gui/button/idle_background.png</dt>
<dd>用于未获取焦点按钮的背景图片。</dd>
<dt>gui/button/hover_background.png</dt>
<dd>用于获取焦点按钮的背景图片。</dd>
<dt>gui/button/selected_idle_background.png</dt>
<dd>用于被选择但未获取焦点按钮的背景图片。这个图片属于可选的，仅在idle_background.png图片存在的情况下才有用。</dd>
<dt>gui/button/selected_hover_background.png</dt>
<dd>用于被选择并获取到焦点按钮的背景图片。这个图片属于可选的，仅在hover_background.png图片存在的情况下才有用。</dd>
</dl>
<p>更多特定的背景可以用于对应类型的按钮，是否适用可以通过图片名的前缀判断。例如， gui/button/check_idle_background.png可以用作check button中没有获取焦点选项的背景。</p>
<p>在radio button和check button中，有4个图片文件可以用作前景修饰，用于标识该选项是否被选中。</p>
<dl class="docutils">
<dt>gui/button/check_foreground.png, gui/button/radio_foreground.png</dt>
<dd>这两个图片用于check button或radio button未被选择的选项。</dd>
<dt>gui/button/check_selected_foreground.png, gui/button/radio_selected_foreground.png</dt>
<dd>这两个图片用于check button或radio button被选中的选项。</dd>
</dl>
<p>下面的几个配置项设置了按钮的各类属性:</p>
<dl class="var">
<dt id="var-gui.button_width">
define <code class="descname">gui.button_width</code> = None<a class="headerlink" href="#var-gui.button_width" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.button_height">
define <code class="descname">gui.button_height</code> = 64<a class="headerlink" href="#var-gui.button_height" title="Permalink to this definition"> link</a></dt>
<dd><p>按钮的宽度和高度，使用像素作为单位。如果值配置为“None”，系统会基于两项内容自定义一个合适的大小。这两项内容之一是按钮上的文本尺寸，另一项则是下面提到的borders(边界)。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.button_borders">
define <code class="descname">gui.button_borders</code> = Borders(10, 10, 10, 10)<a class="headerlink" href="#var-gui.button_borders" title="Permalink to this definition"> link</a></dt>
<dd><p>borders(边界)以左、上、右、下的顺序围绕一个按钮。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.button_tile">
define <code class="descname">gui.button_tile</code> = True<a class="headerlink" href="#var-gui.button_tile" title="Permalink to this definition"> link</a></dt>
<dd><p>如果配置为True，按钮背景的中心区域和四条边将增缩自身尺寸，并以tile形式码放。如果配置为False，则中心区域和四边将使用缩放功能。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.button_text_font">
define <code class="descname">gui.button_text_font</code> = gui.interface_font<a class="headerlink" href="#var-gui.button_text_font" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.button_text_size">
define <code class="descname">gui.button_text_size</code> = gui.interface_text_size<a class="headerlink" href="#var-gui.button_text_size" title="Permalink to this definition"> link</a></dt>
<dd><p>按钮文本的字体与字号。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.button_text_idle_color">
define <code class="descname">gui.button_text_idle_color</code> = gui.idle_color<a class="headerlink" href="#var-gui.button_text_idle_color" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.button_text_hover_color">
define <code class="descname">gui.button_text_hover_color</code> = gui.hover_color<a class="headerlink" href="#var-gui.button_text_hover_color" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.button_text_selected_color">
define <code class="descname">gui.button_text_selected_color</code> = gui.accent_color<a class="headerlink" href="#var-gui.button_text_selected_color" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.button_text_insensitive_color">
define <code class="descname">gui.button_text_insensitive_color</code> = gui.insensitive_color<a class="headerlink" href="#var-gui.button_text_insensitive_color" title="Permalink to this definition"> link</a></dt>
<dd><p>各种情景下按钮文本的颜色。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.button_text_xalign">
define <code class="descname">gui.button_text_xalign</code> = 0.0<a class="headerlink" href="#var-gui.button_text_xalign" title="Permalink to this definition"> link</a></dt>
<dd><p>按钮文本的垂直方向对齐方式。0.0为左对齐，0.5为中央对齐，1.0为右对齐。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.button_image_extension">
define <code class="descname">gui.button_image_extension</code> = “.png”<a class="headerlink" href="#var-gui.button_image_extension" title="Permalink to this definition"> link</a></dt>
<dd><p>按钮图像的扩展名。这项可以修改为“.webp”，使用WEBP图片。</p>
</dd></dl>

<p>这些变量能以前缀形式，加在某个特定种类的图像特性前面。例如，
<a class="reference internal" href="#var-gui.choice_button_text_idle_color"><code class="xref std std-var docutils literal notranslate"><span class="pre">gui.choice_button_text_idle_color</span></code></a> 配置了一个idle状态单选按钮的颜色。</p>
<p>举个例子，我们在样例游戏中将这些变量配置如下：</p>
<dl class="var">
<dt id="var-gui.navigation_button_width">
define <code class="descname">gui.navigation_button_width</code> = 290<a class="headerlink" href="#var-gui.navigation_button_width" title="Permalink to this definition"> link</a></dt>
<dd><p>增加了navigation button的宽度。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.radio_button_borders">
define <code class="descname">gui.radio_button_borders</code> = Borders(40, 10, 10, 10)<a class="headerlink" href="#var-gui.radio_button_borders" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.check_button_borders">
define <code class="descname">gui.check_button_borders</code> = Borders(40, 10, 10, 10)<a class="headerlink" href="#var-gui.check_button_borders" title="Permalink to this definition"> link</a></dt>
<dd><p>增加了radio button和check button的borders(边界)宽度，为左侧的check mark(选定标记)预留出空间。</p>
</dd></dl>

<p>这有一个游戏中界面一些元素如何被定制化例子。</p>
<div class="figure" id="id38">
<img alt="_images/idle_background.png" src="_images/idle_background.png" />
<p class="caption"><span class="caption-text">gui/button/idle_background.png样例图片。</span></p>
</div>
<div class="figure" id="id39">
<img alt="_images/hover_background.png" src="_images/hover_background.png" />
<p class="caption"><span class="caption-text">gui/button/hover_background.png样例图片。</span></p>
</div>
<div class="figure" id="id40">
<img alt="_images/check_foreground.png" src="_images/check_foreground.png" />
<p class="caption"><span class="caption-text">可用作gui/button/check_foreground.png和gui/button/radio_foreground.png的样例图片。</span></p>
</div>
<div class="figure" id="id41">
<img alt="_images/check_selected_foreground.png" src="_images/check_selected_foreground.png" />
<p class="caption"><span class="caption-text">可用作gui/button/check_selected_foreground.png和gui/button/radio_selected_foreground.png的样例图片。</span></p>
</div>
<div class="figure" id="id42">
<a class="reference internal image-reference" href="_images/button_preferences.jpg"><img alt="_images/button_preferences.jpg" src="_images/button_preferences.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">使用本段讨论的各种定制化配置后的环境设定界面。</span></p>
</div>
</div>
<div class="section" id="save-slot-buttons">
<span id="id10"></span><h3>存档槽位按钮<a class="headerlink" href="#save-slot-buttons" title="Permalink to this headline"> link</a></h3>
<p>读档和存档界面使用存档槽位按钮，这类按钮展示了一个缩略图以及文件保存时间信息。当用于定制化存档槽位尺寸时，下面这些配置项十分有用。</p>
<dl class="var">
<dt id="var-gui.slot_button_width">
define <code class="descname">gui.slot_button_width</code> = 414<a class="headerlink" href="#var-gui.slot_button_width" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.slot_button_height">
define <code class="descname">gui.slot_button_height</code> = 309<a class="headerlink" href="#var-gui.slot_button_height" title="Permalink to this definition"> link</a></dt>
<dd><p>存档槽位按钮的宽度和高度。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.slot_button_borders">
define <code class="descname">gui.slot_button_borders</code> = Borders(15, 15, 15, 15)<a class="headerlink" href="#var-gui.slot_button_borders" title="Permalink to this definition"> link</a></dt>
<dd><p>每一个存档槽位的borders。</p>
</dd></dl>

<dl class="var">
<dt id="var-config.thumbnail_width">
define <code class="descname">config.thumbnail_width</code> = 384<a class="headerlink" href="#var-config.thumbnail_width" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-config.thumbnail_height">
define <code class="descname">config.thumbnail_height</code> = 216<a class="headerlink" href="#var-config.thumbnail_height" title="Permalink to this definition"> link</a></dt>
<dd><p>存档缩略图的宽度和高度。注意这两个配置项的生存期存在命名空间config中，而不在命名空间gui中。通过文件的保存和读取，这些配置才会生效。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.file_slot_cols">
define <code class="descname">gui.file_slot_cols</code> = 3<a class="headerlink" href="#var-gui.file_slot_cols" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.file_slot_rows">
define <code class="descname">gui.file_slot_rows</code> = 2<a class="headerlink" href="#var-gui.file_slot_rows" title="Permalink to this definition"> link</a></dt>
<dd><p>存档槽位坐标的行数和列数。</p>
</dd></dl>

<p>这些是用于存档槽位的背景图片。</p>
<dl class="docutils">
<dt>gui/button/slot_idle_background.png</dt>
<dd>未获取焦点存档槽位的背景图片。</dd>
<dt>gui/button/slot_hover_background.png</dt>
<dd>获取到焦点存档槽位的背景图片。</dd>
</dl>
<p>将这些都投入使用后，我们得到了：</p>
<div class="figure" id="id43">
<img alt="_images/slot_idle_background.png" src="_images/slot_idle_background.png" />
<p class="caption"><span class="caption-text">gui/button/slot_idle_background.png样例图片</span></p>
</div>
<div class="figure" id="id44">
<img alt="_images/slot_hover_background.png" src="_images/slot_hover_background.png" />
<p class="caption"><span class="caption-text">gui/button/slot/slot_hover_background.png样例图片。</span></p>
</div>
<div class="figure" id="id45">
<img alt="_images/slot_save.jpg" src="_images/slot_save.jpg" />
<p class="caption"><span class="caption-text">应用本节讨论的各项定制化后的存档界面。</span></p>
</div>
</div>
<div class="section" id="slider">
<span id="sliders"></span><h3>滑块(slider)<a class="headerlink" href="#slider" title="Permalink to this headline"> link</a></h3>
<p>滑块(slider)是一类用在环境设定界面的条(bar)，允许玩家可以根据自身喜好调整大量的数值。GUI默认只使用横向的滑块，不过游戏中也往往会用到垂直的滑块。</p>
<p>滑块(slider)可以使用以下图片进行定制化：</p>
<dl class="docutils">
<dt>gui/slider/horizontal_idle_bar.png, gui/slider/horizontal_hover_bar.png, gui/slider/vertical_idle_bar.png, gui/slider/vertical_hover_bar.png</dt>
<dd>用于空闲和指针悬停状态下垂直或水平滑块的背景图片。</dd>
<dt>gui/slider/horizontal_idle_thumb.png, gui/slider/horizontal_hover_thumb.png, gui/slider/vertical_idle_thumb.png, gui/slider/vertical_hover_thumb.png</dt>
<dd>用于条(bar)的thumb(可拖动部分)的图片。</dd>
</dl>
<p>以下配置项也会被用到:</p>
<dl class="var">
<dt id="var-gui.slider_size">
define <code class="descname">gui.slider_size</code> = 64<a class="headerlink" href="#var-gui.slider_size" title="Permalink to this definition"> link</a></dt>
<dd><p>水平滑动块的高度，或者垂直滑块的宽度。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.slider_tile">
define <code class="descname">gui.slider_tile</code> = True<a class="headerlink" href="#var-gui.slider_tile" title="Permalink to this definition"> link</a></dt>
<dd><p>若为True，Frame中包含的滑块会被tile样式码放。若为False，则使用缩放模式。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.slider_borders">
define <code class="descname">gui.slider_borders</code> = Borders(6, 6, 6, 6)<a class="headerlink" href="#var-gui.slider_borders" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.vslider_borders">
define <code class="descname">gui.vslider_borders</code> = Borders(6, 6, 6, 6)<a class="headerlink" href="#var-gui.vslider_borders" title="Permalink to this definition"> link</a></dt>
<dd><p>Frame包含条(bar)图片时使用的borders(边界)。</p>
</dd></dl>

<p>这是一个我们如何定制化水平滑块的案例。</p>
<div class="figure" id="id46">
<img alt="_images/horizontal_idle_bar.png" src="_images/horizontal_idle_bar.png" />
<p class="caption"><span class="caption-text">gui/slider/horizontal_idle_bar.png 样例图片。</span></p>
</div>
<div class="figure" id="id47">
<img alt="_images/horizontal_hover_bar.png" src="_images/horizontal_hover_bar.png" />
<p class="caption"><span class="caption-text">gui/slider/horizontal_hover_bar.png 样例图片。</span></p>
</div>
<div class="figure" id="id48">
<img alt="_images/horizontal_idle_thumb.png" src="_images/horizontal_idle_thumb.png" />
<p class="caption"><span class="caption-text">gui/slider/horizontal_idle_thumb.png 样例图片。</span></p>
</div>
<div class="figure" id="id49">
<img alt="_images/horizontal_hover_thumb.png" src="_images/horizontal_hover_thumb.png" />
<p class="caption"><span class="caption-text">gui/slider/horizontal_hover_thumb.png 样例图片。</span></p>
</div>
<div class="figure" id="id50">
<a class="reference internal image-reference" href="_images/slider_preferences.jpg"><img alt="_images/slider_preferences.jpg" src="_images/slider_preferences.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">应用本节提到的定制化后的界面效果。</span></p>
</div>
</div>
<div class="section" id="scrollbar">
<span id="scrollbars"></span><h3>scrollbar(滚动条)<a class="headerlink" href="#scrollbar" title="Permalink to this headline"> link</a></h3>
<p>scrollbar(滚动条)是用于滚动视点的条(bar)。在GUI中，历史(history)界面是滚动条明显会被用到的地方，但垂直滚动条在其他界面也可能会被用到。</p>
<p>scrollbar(滚动条)可以使用以下图片定制化：</p>
<dl class="docutils">
<dt>gui/scrollbar/horizontal_idle_bar.png, gui/scrollbar/horizontal_hover_bar.png, gui/scrollbar/vertical_idle_bar.png, gui/scrollbar/vertical_hover_bar.png</dt>
<dd>在空闲(未获取焦点)及鼠标悬停状态下，垂直滚动条的背景图片。</dd>
<dt>gui/scrollbar/horizontal_idle_thumb.png, gui/scrollbar/horizontal_hover_thumb.png, gui/scrollbar/vertical_idle_thumb.png, gui/scrollbar/vertical_hover_thumb.png</dt>
<dd>thumb(可拖动部分)使用图片——滚动条的可活动滑块部分。</dd>
</dl>
<p>还有下面这些配置项可能会被用到：</p>
<dl class="var">
<dt id="var-gui.scrollbar_size">
define <code class="descname">gui.scrollbar_size</code> = 24<a class="headerlink" href="#var-gui.scrollbar_size" title="Permalink to this definition"> link</a></dt>
<dd><p>水平滚动条的高度，也是垂直滚动条的宽度</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.scrollbar_tile">
define <code class="descname">gui.scrollbar_tile</code> = True<a class="headerlink" href="#var-gui.scrollbar_tile" title="Permalink to this definition"> link</a></dt>
<dd><p>如果该值为True，包含scrollbar(滚动条)的frame(框架)使用tile样式码放。如果该值为False，则使用scale缩放样式。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.scrollbar_borders">
define <code class="descname">gui.scrollbar_borders</code> = Borders(10, 6, 10, 6)<a class="headerlink" href="#var-gui.scrollbar_borders" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.vscrollbar_borders">
define <code class="descname">gui.vscrollbar_borders</code> = Borders(6, 10, 6, 10)<a class="headerlink" href="#var-gui.vscrollbar_borders" title="Permalink to this definition"> link</a></dt>
<dd><p>滚动条使用frame(框架)中包含的border(边界)。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.unscrollable">
define <code class="descname">gui.unscrollable</code> = “hide”<a class="headerlink" href="#var-gui.unscrollable" title="Permalink to this definition"> link</a></dt>
<dd><p>当一个滚动条无法滚动(即所有内容都可以在一栏内显示)，该项决定滚动条的展示。“hide”表示隐藏该滚动条，不指定值则表示展示滚动条。</p>
</dd></dl>

<p>这是一个如何定制化垂直滚动条的例子。</p>
<div class="figure" id="id51">
<a class="reference internal image-reference" href="_images/vertical_idle_bar.png"><img alt="_images/vertical_idle_bar.png" src="_images/vertical_idle_bar.png" style="height: 150px;" /></a>
<p class="caption"><span class="caption-text">gui/scrollbar/vertical_idle_bar.png 样例图片</span></p>
</div>
<div class="figure" id="id52">
<a class="reference internal image-reference" href="_images/vertical_hover_bar.png"><img alt="_images/vertical_hover_bar.png" src="_images/vertical_hover_bar.png" style="height: 150px;" /></a>
<p class="caption"><span class="caption-text">gui/scrollbar/vertical_hover_bar.png 样例图片</span></p>
</div>
<div class="figure" id="id53">
<a class="reference internal image-reference" href="_images/vertical_idle_thumb.png"><img alt="_images/vertical_idle_thumb.png" src="_images/vertical_idle_thumb.png" style="height: 150px;" /></a>
<p class="caption"><span class="caption-text">gui/scrollbar/vertical_idle_thumb.png 样例图片</span></p>
</div>
<div class="figure" id="id54">
<a class="reference internal image-reference" href="_images/vertical_hover_thumb.png"><img alt="_images/vertical_hover_thumb.png" src="_images/vertical_hover_thumb.png" style="height: 150px;" /></a>
<p class="caption"><span class="caption-text">gui/scrollbar/vertical_hover_thumb.png 样例图片</span></p>
</div>
<div class="figure" id="id55">
<a class="reference internal image-reference" href="_images/scrollbar_history.jpg"><img alt="_images/scrollbar_history.jpg" src="_images/scrollbar_history.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">使用本节中提到的定制化内容后的历史(history)界面。</span></p>
</div>
</div>
<div class="section" id="bar">
<h3>条(bar)<a class="headerlink" href="#bar" title="Permalink to this headline"> link</a></h3>
<p>最常见的老式条(bar)会向用户展示一个进度数字。条(bar)不会用在GUI中，但会用在创作者定义的(creator-defined)界面中。</p>
<p>通过编辑以下图片可以实现条(bar)的定制化：</p>
<dl class="docutils">
<dt>gui/bar/left.png, gui/bar/bottom.png</dt>
<dd>用于水平和垂直条(bar)的填充图片</dd>
<dt>gui/bar/right.png, gui/bar/top.png</dt>
<dd>用于水平和垂直条(bar)的填充图片</dd>
</dl>
<p>还有一些用于条(bar)的常用配置项：</p>
<dl class="var">
<dt id="var-gui.bar_size">
define <code class="descname">gui.bar_size</code> = 64<a class="headerlink" href="#var-gui.bar_size" title="Permalink to this definition"> link</a></dt>
<dd><p>水平条(bar)的高度，也是垂直条(bar)的宽度。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.bar_tile">
define <code class="descname">gui.bar_tile</code> = False<a class="headerlink" href="#var-gui.bar_tile" title="Permalink to this definition"> link</a></dt>
<dd><p>如果该值为True，条(bar)图片以tile样式码放。如果该值为False，条(bar)图片以scale样式缩放。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.bar_borders">
define <code class="descname">gui.bar_borders</code> = Borders(10, 10, 10, 10)<a class="headerlink" href="#var-gui.bar_borders" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.vbar_borders">
define <code class="descname">gui.vbar_borders</code> = Borders(10, 10, 10, 10)<a class="headerlink" href="#var-gui.vbar_borders" title="Permalink to this definition"> link</a></dt>
<dd><p>包含在frame(框架)中的border(边界)。</p>
</dd></dl>

<p>这是一个定制化水平条(bar)的样例。</p>
<div class="figure" id="id56">
<a class="reference internal image-reference" href="_images/left.png"><img alt="_images/left.png" src="_images/left.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">gui/bar/left.png样例图片</span></p>
</div>
<div class="figure" id="id57">
<a class="reference internal image-reference" href="_images/right.png"><img alt="_images/right.png" src="_images/right.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">gui/bar/right.png样例图片</span></p>
</div>
<div class="figure" id="id58">
<a class="reference internal image-reference" href="_images/bar.jpg"><img alt="_images/bar.jpg" src="_images/bar.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">经过我们定制化后的条(bar)样例。</span></p>
</div>
</div>
<div class="section" id="skip-notify">
<span id="skip-and-notify"></span><h3>跳过(skip)和通知(notify)<a class="headerlink" href="#skip-notify" title="Permalink to this headline"> link</a></h3>
<p>跳过(skip)和通知(notify)界面会同时在主Frame带着信息出现。他们共用frame背景图片：</p>
<dl class="docutils">
<dt>gui/skip.png</dt>
<dd>跳过(skip)提示的背景图。</dd>
<dt>gui/notify.png</dt>
<dd>通知(notify)界面的背景图。</dd>
</dl>
<p>控制这些的配置项如下:</p>
<dl class="var">
<dt id="var-gui.skip_frame_borders">
define <code class="descname">gui.skip_frame_borders</code> = Borders(24, 8, 75, 8)<a class="headerlink" href="#var-gui.skip_frame_borders" title="Permalink to this definition"> link</a></dt>
<dd><p>frame中的边界，用在跳过(skip)界面</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.notify_frame_borders">
define <code class="descname">gui.notify_frame_borders</code> = Borders(24, 8, 60, 8)<a class="headerlink" href="#var-gui.notify_frame_borders" title="Permalink to this definition"> link</a></dt>
<dd><p>frame中的边界，用在通知(notify)界面。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.skip_ypos">
define <code class="descname">gui.skip_ypos</code> = 15<a class="headerlink" href="#var-gui.skip_ypos" title="Permalink to this definition"> link</a></dt>
<dd><p>从窗口顶部算起，跳过(skip)提示的垂直位置，以像素为单位。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.notify_ypos">
define <code class="descname">gui.notify_ypos</code> = 68<a class="headerlink" href="#var-gui.notify_ypos" title="Permalink to this definition"> link</a></dt>
<dd><p>从窗口顶部算起，通知(notify)提示的垂直位置，以像素为单位。</p>
</dd></dl>

<p>这是一个定制化跳过(skip)和通知(notify)的样例。</p>
<div class="figure" id="id59">
<a class="reference internal image-reference" href="_images/skip.png"><img alt="_images/skip.png" src="_images/skip.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">gui/skip.png样例图片。</span></p>
</div>
<div class="figure" id="id60">
<a class="reference internal image-reference" href="_images/notify.png"><img alt="_images/notify.png" src="_images/notify.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">gui/notify.png样例图片。</span></p>
</div>
<div class="figure" id="id61">
<img alt="_images/skip_notify.jpg" src="_images/skip_notify.jpg" />
<p class="caption"><span class="caption-text">定制化后，跳过(skip)和通知(notify)界面的实际情况。</span></p>
</div>
</div>
<div class="section" id="dialogue-continued">
<span id="id11"></span><h3>对话(dialogue)-续<a class="headerlink" href="#dialogue-continued" title="Permalink to this headline"> link</a></h3>
<p>除了以上提到的简单定制化，还有一些控制对话表现方式的路子。</p>
<div class="section" id="textbox">
<span id="id12"></span><h4>文本框(textbox)<a class="headerlink" href="#textbox" title="Permalink to this headline"> link</a></h4>
<p>对话显示在文本框(textbox)[或者窗口]里。除了更换gui/textbox.png图片之外，下面的配置项也能控制文本框展示效果。</p>
</div>
<div class="section" id="name-namebox">
<span id="name-and-namebox"></span><h4>名字(name)和名字框(namebox)<a class="headerlink" href="#name-namebox" title="Permalink to this headline"> link</a></h4>
<p>frame(框架)会使用gui/namebox.png做为名字背景，角色名字则内置在该frame中。并且，有一些配置项控制名字的表现效果。正在说话的角色如果有名字的话，名字框(namebox)是唯一能显示这个名字的地方(包括名字为空“ ”的情况)。</p>
<dl class="var">
<dt id="var-gui.name_xpos">
define <code class="descname">gui.name_xpos</code> = 360<a class="headerlink" href="#var-gui.name_xpos" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.name_ypos">
define <code class="descname">gui.name_ypos</code> = 0<a class="headerlink" href="#var-gui.name_ypos" title="Permalink to this definition"> link</a></dt>
<dd><p>名字(name)和名字框(namebox)的水平和垂直位置。通常我们会在文本框的左端和上端预留几个像素的空间。把该配置项赋值为0.5，则可以让名字在文本框内居中(见下面的附图)。赋值可以是负数——例如，把gui.name_ypos赋值为“-22”就会使其在超过文本框顶端22个像素。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.name_xalign">
define <code class="descname">gui.name_xalign</code> = 0.0<a class="headerlink" href="#var-gui.name_xalign" title="Permalink to this definition"> link</a></dt>
<dd><p>角色名字水平对齐方式。0.0表左对齐，0.5表示居中，1.0表示右对齐。(常用0.0或者0.5)这个配置项会同时应用在两处：gui.name_xpos相关的名字框(namebox)位置，选择何种对齐方式及对应边框的xpos值。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.namebox_width">
define <code class="descname">gui.namebox_width</code> = None<a class="headerlink" href="#var-gui.namebox_width" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.namebox_height">
define <code class="descname">gui.namebox_height</code> = None<a class="headerlink" href="#var-gui.namebox_height" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.namebox_borders">
define <code class="descname">gui.namebox_borders</code> = Borders(5, 5, 5, 5)<a class="headerlink" href="#var-gui.namebox_borders" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.namebox_tile">
define <code class="descname">gui.namebox_tile</code> = False<a class="headerlink" href="#var-gui.namebox_tile" title="Permalink to this definition"> link</a></dt>
<dd><p>这些配置项控制包含名字框(namebox)frame的显示效果。</p>
</dd></dl>

</div>
<div class="section" id="dialogue-2">
<span id="id13"></span><h4>对话(dialogue)<a class="headerlink" href="#dialogue-2" title="Permalink to this headline"> link</a></h4>
<dl class="var">
<dt id="var-gui.dialogue_xpos">
define <code class="descname">gui.dialogue_xpos</code> = 402<a class="headerlink" href="#var-gui.dialogue_xpos" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.dialogue_ypos">
define <code class="descname">gui.dialogue_ypos</code> = 75<a class="headerlink" href="#var-gui.dialogue_ypos" title="Permalink to this definition"> link</a></dt>
<dd><p>实际对话内容的水平和垂直位置。这通常表示从文本框(textbox)的左端或者顶端开始计算，偏离的像素数。如果设置为0.5则会让对话内容在文本框(textbox)内居中(参见下面的内容)。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.dialogue_width">
define <code class="descname">gui.dialogue_width</code> = 1116<a class="headerlink" href="#var-gui.dialogue_width" title="Permalink to this definition"> link</a></dt>
<dd><p>该配置项给定了每行对话内容的最大宽度，单位为像素。当对话内容达到最大宽度时，Ren’Py会将文本换行。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.dialogue_text_xalign">
define <code class="descname">gui.dialogue_text_xalign</code> = 0.0<a class="headerlink" href="#var-gui.dialogue_text_xalign" title="Permalink to this definition"> link</a></dt>
<dd><p>对话内容文本的水平对齐方式。0.0为左对齐，0.5为居中，1.0为右对齐。</p>
</dd></dl>

</div>
<div class="section" id="gui-examples">
<span id="id14"></span><h4>样例<a class="headerlink" href="#gui-examples" title="Permalink to this headline"> link</a></h4>
<p>若要角色名字居中，使用:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">name_xpos</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">name_xalign</span> <span class="o">=</span> <span class="mf">0.5</span>
</pre></div>
</div>
<p>若要对话内容文本居中，使用:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">dialogue_xpos</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">dialogue_text_xalign</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>我们提供的演示游戏中，这些语句定制了居中的名字框(namebox):</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">namebox_width</span> <span class="o">=</span> <span class="mi">300</span>
<span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">name_ypos</span> <span class="o">=</span> <span class="o">-</span><span class="mi">22</span>
<span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">namebox_borders</span> <span class="o">=</span> <span class="n">Borders</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">namebox_tile</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
<div class="figure" id="id62">
<img alt="_images/namebox.png" src="_images/namebox.png" />
<p class="caption"><span class="caption-text">gui/namebox.png样例图片。</span></p>
</div>
<div class="figure" id="id63">
<a class="reference internal image-reference" href="_images/intermediate_dialogue.jpg"><img alt="_images/intermediate_dialogue.jpg" src="_images/intermediate_dialogue.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">应用以上定制化设置后的演示游戏。</span></p>
</div>
</div>
</div>
<div class="section" id="history">
<span id="gui-history"></span><h3>历史(history)<a class="headerlink" href="#history" title="Permalink to this headline"> link</a></h3>
<p>这里有一些配置项可以控制历史(history)界面的展现效果。</p>
<dl class="var">
<dt id="var-config.history_length">
define <code class="descname">config.history_length</code> = 250<a class="headerlink" href="#var-config.history_length" title="Permalink to this definition"> link</a></dt>
<dd><p>Ren’Py保存在历史(history)中的对话段落个数。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.history_height">
define <code class="descname">gui.history_height</code> = 210<a class="headerlink" href="#var-gui.history_height" title="Permalink to this definition"> link</a></dt>
<dd><p>历史(history)层(entry)的高度，单位为像素。该项可以为空，这样可以允许历史(history)层(entry)高度根据实际情况而定——当define gui.history_height为None时，config.history_length可能需要被明显调低。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.history_name_xpos">
define <code class="descname">gui.history_name_xpos</code> = 0.5<a class="headerlink" href="#var-gui.history_name_xpos" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.history_text_xpos">
define <code class="descname">gui.history_text_xpos</code> = 0.5<a class="headerlink" href="#var-gui.history_text_xpos" title="Permalink to this definition"> link</a></dt>
<dd><p>名字标签(name label)和对话文本的水平位置。这两者可以是历史(history)层(entry)左端偏移的像素数量，也可以是0.5表示居中。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.history_name_ypos">
define <code class="descname">gui.history_name_ypos</code> = 0<a class="headerlink" href="#var-gui.history_name_ypos" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.history_text_ypos">
define <code class="descname">gui.history_text_ypos</code> = 60<a class="headerlink" href="#var-gui.history_text_ypos" title="Permalink to this definition"> link</a></dt>
<dd><p>名字标签(name label)和对话文本的垂直位置，与历史(history)层(entry)上端位置有关，单位为像素。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.history_name_width">
define <code class="descname">gui.history_name_width</code> = 225<a class="headerlink" href="#var-gui.history_name_width" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.history_text_width">
define <code class="descname">gui.history_text_width</code> = 1110<a class="headerlink" href="#var-gui.history_text_width" title="Permalink to this definition"> link</a></dt>
<dd><p>名字标签(name label)和对话文本的宽度，单位为像素。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.history_name_xalign">
define <code class="descname">gui.history_name_xalign</code> = 0.5<a class="headerlink" href="#var-gui.history_name_xalign" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.history_text_xalign">
define <code class="descname">gui.history_text_xalign</code> = 0.5<a class="headerlink" href="#var-gui.history_text_xalign" title="Permalink to this definition"> link</a></dt>
<dd><p>名字标签(name label)和对话文本的对齐方式，及对应的文本对齐时使用的xpos值。0.0为左对齐，0.5为居中，1.0为右对齐。</p>
</dd></dl>

<div class="figure" id="id64">
<a class="reference internal image-reference" href="_images/history.png"><img alt="_images/history.png" src="_images/history.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">应用以上定制化配置后的历史(history)界面。</span></p>
</div>
</div>
<div class="section" id="nvl">
<span id="id15"></span><h3>NVL<a class="headerlink" href="#nvl" title="Permalink to this headline"> link</a></h3>
<p>nvl界面会显示NVL模式的对话。这也可以使用一些方式进行定制化。第一种是定制化NVL模式的背景图片：</p>
<dl class="docutils">
<dt>gui/nvl.png</dt>
<dd>NVL模式中使用的背景图片。这个图片应该跟窗口尺寸一致。</dd>
</dl>
<p>还有一些配置项用于定制化NVL模式文本下的显示效果。</p>
<dl class="var">
<dt id="var-gui.nvl_borders">
define <code class="descname">gui.nvl_borders</code> = Borders(0, 15, 0, 30)<a class="headerlink" href="#var-gui.nvl_borders" title="Permalink to this definition"> link</a></dt>
<dd><p>NVL模式围绕背景图的border(边界)。由于背景图不是一个frame，所以只用在淡出NVL模式，以防止直接切换导致的界面四周突兀表现。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.nvl_height">
define <code class="descname">gui.nvl_height</code> = 173<a class="headerlink" href="#var-gui.nvl_height" title="Permalink to this definition"> link</a></dt>
<dd><p>NVL模式一个层(entry)的高度。配置该值可以调整层(entry)高度，使得在NVL模式下不翻页也可行，同时展现调整好的一系列层(entry)。将该值赋值为None的话，层(entry)的高度就是可变的(自适应)。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.nvl_spacing">
define <code class="descname">gui.nvl_spacing</code> = 15<a class="headerlink" href="#var-gui.nvl_spacing" title="Permalink to this definition"> link</a></dt>
<dd><p>当gui.nvl_height的值为None时，各个层(entry)之间的spacing(间隔)大小，也是NVL模式菜单按钮的间隔大小。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.nvl_name_xpos">
define <code class="descname">gui.nvl_name_xpos</code> = 0.5<a class="headerlink" href="#var-gui.nvl_name_xpos" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.nvl_text_xpos">
define <code class="descname">gui.nvl_text_xpos</code> = 0.5<a class="headerlink" href="#var-gui.nvl_text_xpos" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.nvl_thought_xpos">
define <code class="descname">gui.nvl_thought_xpos</code> = 0.5<a class="headerlink" href="#var-gui.nvl_thought_xpos" title="Permalink to this definition"> link</a></dt>
<dd><p>角色名字、对话文本和thought/narration(内心活动/叙述)文本的位置，与层(entry)的左端位置有关。其可以是一个代表像素数的值，或者0.5表示在层(entry)内居中。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.nvl_name_xalign">
define <code class="descname">gui.nvl_name_xalign</code> = 0.5<a class="headerlink" href="#var-gui.nvl_name_xalign" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.nvl_text_xalign">
define <code class="descname">gui.nvl_text_xalign</code> = 0.5<a class="headerlink" href="#var-gui.nvl_text_xalign" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.nvl_thought_xalign">
define <code class="descname">gui.nvl_thought_xalign</code> = 0.5<a class="headerlink" href="#var-gui.nvl_thought_xalign" title="Permalink to this definition"> link</a></dt>
<dd><p>文本对齐。这项同时控制文本对齐方式，及文本起始距离左端的xpos值。0.0为左对齐，0.5为居中，1.0为右对齐。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.nvl_name_ypos">
define <code class="descname">gui.nvl_name_ypos</code> = 0<a class="headerlink" href="#var-gui.nvl_name_ypos" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.nvl_text_ypos">
define <code class="descname">gui.nvl_text_ypos</code> = 60<a class="headerlink" href="#var-gui.nvl_text_ypos" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.nvl_thought_ypos">
define <code class="descname">gui.nvl_thought_ypos</code> = 0<a class="headerlink" href="#var-gui.nvl_thought_ypos" title="Permalink to this definition"> link</a></dt>
<dd><p>角色名字、对话文本、thought/narration(内心活动/叙述)文本的位置，与层(entry)的上端相关。该值应是一个从上端开始的偏移量数值，单位为像素。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.nvl_name_width">
define <code class="descname">gui.nvl_name_width</code> = 740<a class="headerlink" href="#var-gui.nvl_name_width" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.nvl_text_width">
define <code class="descname">gui.nvl_text_width</code> = 740<a class="headerlink" href="#var-gui.nvl_text_width" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.nvl_thought_width">
define <code class="descname">gui.nvl_thought_width</code> = 740<a class="headerlink" href="#var-gui.nvl_thought_width" title="Permalink to this definition"> link</a></dt>
<dd><p>各种文本的宽度，单位为像素。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.nvl_button_xpos">
define <code class="descname">gui.nvl_button_xpos</code> = 0.5<a class="headerlink" href="#var-gui.nvl_button_xpos" title="Permalink to this definition"> link</a></dt>
<dd></dd></dl>

<dl class="var">
<dt id="var-gui.nvl_button_xalign">
define <code class="descname">gui.nvl_button_xalign</code> = 0.5<a class="headerlink" href="#var-gui.nvl_button_xalign" title="Permalink to this definition"> link</a></dt>
<dd><p>NVL模式下菜单按钮的位置和对齐方式。</p>
</dd></dl>

<p>Ren’Py并不默认使用NVL模式。调用NVL模式必须使用NVL模式角色，而NVL模式角色需要在script.rpy文件中定义一系列配置项。</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">e</span> <span class="o">=</span> <span class="n">Character</span><span class="p">(</span><span class="s2">&quot;Eileen&quot;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="k">nvl</span><span class="p">)</span>
<span class="k">define</span> <span class="n">narrator</span> <span class="o">=</span> <span class="n">nvl_narrator</span>
<span class="k">define</span> <span class="k">menu</span> <span class="o">=</span> <span class="n">nvl_menu</span>
</pre></div>
</div>
<p>这是一个应用以上定制化配置后的NVL界面样例。</p>
<div class="figure" id="id65">
<img alt="_images/nvl.png" src="_images/nvl.png" />
<p class="caption"><span class="caption-text">gui/nvl.png样例图片。</span></p>
</div>
<div class="figure" id="id66">
<a class="reference internal image-reference" href="_images/nvl.jpg"><img alt="_images/nvl.jpg" src="_images/nvl.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">应用以上定制化配置后的样例游戏。</span></p>
</div>
</div>
<div class="section" id="text">
<span id="gui-text"></span><h3>文本(Text)<a class="headerlink" href="#text" title="Permalink to this headline"> link</a></h3>
<p>大部分文本都可以利用GUI的配置项实现定制化。以下列出了可以使用的配置项：</p>
<dl class="var">
<dt id="var-gui.kind_text_font">
define <code class="descname">gui.kind_text_font</code><a class="headerlink" href="#var-gui.kind_text_font" title="Permalink to this definition"> link</a></dt>
<dd><p>文本字体。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.kind_text_size">
define <code class="descname">gui.kind_text_size</code><a class="headerlink" href="#var-gui.kind_text_size" title="Permalink to this definition"> link</a></dt>
<dd><p>文本字号。</p>
</dd></dl>

<dl class="var">
<dt id="var-gui.kind_text_color">
define <code class="descname">gui.kind_text_color</code><a class="headerlink" href="#var-gui.kind_text_color" title="Permalink to this definition"> link</a></dt>
<dd><p>文本颜色。</p>
</dd></dl>

<p>其他 <a class="reference internal" href="style_properties.html#text-style-properties"><span class="std std-ref">文本样式特性</span></a> 也可以通过相同的方式来设置。 例如，gui.kind_text_outlines设置了
<a class="reference internal" href="style_properties.html#style-property-outlines"><code class="xref std std-propref docutils literal notranslate"><span class="pre">outlines</span></code></a> 特性。</p>
<p>指定文本类型的名称前缀可以省略，这样定制化后就是所有文本的默认外观设置。相反，也可以加上名称前缀，比如上面提到的各种按钮类型，或者以下的类型：</p>
<dl class="docutils">
<dt>interface(接口)</dt>
<dd>针对out-of-game(游戏本体之外)的interface(接口)的默认文本。</dd>
<dt>input(输入)</dt>
<dd>针对文本输入控件的文本。</dd>
<dt>input_prompt</dt>
<dd>针对文本输入提示语。</dd>
<dt>label</dt>
<dd>针对装饰标签(label)。</dd>
<dt>prompt</dt>
<dd>针对用户收到的提示确认之类问题。</dd>
<dt>name(名字)</dt>
<dd>针对角色名字(name)。</dd>
<dt>dialogue(对话)</dt>
<dd>针对各种对话(dialogue)。</dd>
<dt>notify(通知)</dt>
<dd>针对通知(notify)的文本。</dd>
</dl>
<p>样例:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">dialogue_text_outlines</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;#00000080&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">]</span>
</pre></div>
</div>
<p>这将在对话文本下方产生右向的drop-shadow样式投影。</p>
</div>
<div class="section" id="translation-gui">
<span id="translation-and-gui-variables"></span><h3>多语言支持(translation)和GUI配置项<a class="headerlink" href="#translation-gui" title="Permalink to this headline"> link</a></h3>
<p>gui命名空间是特殊的，在初始化阶段后gui命名空间内的设置将一直保持不变，除非运行到多语言支持(translation)python语句块。在多语言支持(translation)python语句块中更改GUI配置项，使得适配第二种语言文字的样式成为可能。例如，以下代码改变了默认文本的字体和字号。:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">translate</span> <span class="n">japanese</span> <span class="k">python</span><span class="p">:</span>
    <span class="n">gui</span><span class="o">.</span><span class="na">text_font</span> <span class="o">=</span> <span class="s2">&quot;MTLc3m.ttf&quot;</span>
    <span class="n">gui</span><span class="o">.</span><span class="na">text_size</span> <span class="o">=</span> <span class="mi">24</span>
</pre></div>
</div>
<p>关于多语言支持(translation)有一点需要注意，那就是在gui.rpy文件的某些语句中，某个配置项已经声明为一个其他值的情况。例如，在默认的gui.rpy中包含:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">interface_text_font</span> <span class="o">=</span> <span class="s2">&quot;DejaVuSans.ttf&quot;</span>
</pre></div>
</div>
<p>及:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">button_text_font</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">interface_text_font</span>
</pre></div>
</div>
<p>由于这两个语句都在多语言支持(translation)语句块执行之前生效，所以这两个配置项都需要更改。</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">translate</span> <span class="n">japanese</span> <span class="k">python</span><span class="p">::</span>

    <span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">interface_text_font</span> <span class="o">=</span> <span class="s2">&quot;MTLc3m.ttf&quot;</span>
    <span class="k">define</span> <span class="n">gui</span><span class="o">.</span><span class="n">button_text_font</span> <span class="o">=</span> <span class="s2">&quot;MTLc3m.ttf&quot;</span>
</pre></div>
</div>
<p>如果忘了写第二个语句，DejaVuSans将依然被作为按钮文本的字体使用。</p>
</div>
</div>
<div class="section" id="advanced-customization">
<span id="id16"></span><h2>高级定制化<a class="headerlink" href="#advanced-customization" title="Permalink to this headline"> link</a></h2>
<p>更多高级定制化可以通过定制化screen.rpy文件实现，甚至可以把整个文件清空并填上你自己写的内容。这里有几处要点有助你起步。</p>
<div class="section" id="style">
<span id="gui-styles"></span><h3>样式(style)<a class="headerlink" href="#style" title="Permalink to this headline"> link</a></h3>
<p><a class="reference internal" href="style.html#styles"><span class="std std-ref">样式</span></a> 和 <a class="reference internal" href="style_properties.html#style-properties"><span class="std std-ref">样式特性</span></a> 控制可视组件(displayable)的显示方式。若需要知道某个可视组件(displayable)使用的是什么样式(style)，之需要将鼠标移动到它上面并使用快捷键“shift+I”。这将唤起样式检测器，并显示样式名称。我们之后对应的样式名称后，就可以使用一个样式(style)语句实现对应样式的定制化。</p>
<p>比如说，我们在编写GUI有关文件时石乐志，想要在对话文本上添加一个高亮的红色轮廓线。我们可以把鼠标移动到对应文本上，并按下“shift+I”以找到了使用样式名为“say_dialogue”。然后我们就可以在一些文件(screens.rpy结尾，或者options.rpy某处)中添加样式(style)语句。:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">style</span> <span class="n">say_dialogue</span><span class="p">:</span>
    <span class="na">outlines</span> <span class="p">[</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;#f00&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">]</span>
</pre></div>
</div>
<p>利用样式(style)语句可以实现海量的定制化功能。</p>
</div>
<div class="section" id="screens-navigation">
<span id="id17"></span><h3>界面——引导(Screens - Navigation)<a class="headerlink" href="#screens-navigation" title="Permalink to this headline"> link</a></h3>
<p>接下去的定制化就需要修改界面(screen)了。关于界面(screen)部分最重要文档，详见 <a class="reference internal" href="screens.html#screens"><span class="std std-ref">界面和界面语言</span></a> 和 <a class="reference internal" href="screen_actions.html#screen-actions"><span class="std std-ref">界面动作、数值及函数</span></a> 段落。</p>
<p>最重要的界面之一，是引导(navigation)界面，同时用在主菜单和游戏菜单，提供引导用户的功能。该界面是可编辑的，比如在界面上增加更多的按钮。修改引导界面的例子如下:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">navigation</span><span class="p">():</span>

    <span class="k">vbox</span><span class="p">:</span>
        <span class="na">style_prefix</span> <span class="s2">&quot;navigation&quot;</span>

        <span class="na">xpos</span> <span class="n">gui</span><span class="o">.</span><span class="n">navigation_xpos</span>
        <span class="na">yalign</span> <span class="mf">0.5</span>

        <span class="na">spacing</span> <span class="n">gui</span><span class="o">.</span><span class="n">navigation_spacing</span>

        <span class="k">if</span> <span class="n">main_menu</span><span class="p">:</span>

            <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Start&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">Start</span><span class="p">()</span>

            <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Prologue&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">Start</span><span class="p">(</span><span class="s2">&quot;prologue&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Codex&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s2">&quot;codex&quot;</span><span class="p">)</span>

            <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;History&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s2">&quot;history&quot;</span><span class="p">)</span>

            <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Save&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s2">&quot;save&quot;</span><span class="p">)</span>

        <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Load&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s2">&quot;load&quot;</span><span class="p">)</span>

        <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Preferences&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s2">&quot;preferences&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">_in_replay</span><span class="p">:</span>

            <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;End Replay&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">EndReplay</span><span class="p">(</span><span class="n">confirm</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

        <span class="k">elif</span> <span class="k">not</span> <span class="n">main_menu</span><span class="p">:</span>

            <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Main Menu&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">MainMenu</span><span class="p">()</span>

        <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;About&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s2">&quot;about&quot;</span><span class="p">)</span>

        <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Extras&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s2">&quot;extras&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">renpy</span><span class="o">.</span><span class="na">variant</span><span class="p">(</span><span class="s2">&quot;pc&quot;</span><span class="p">):</span>

            <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Help&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s2">&quot;help&quot;</span><span class="p">)</span>

            <span class="k">textbutton</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Quit&quot;</span><span class="p">)</span> <span class="na">action</span> <span class="n">Quit</span><span class="p">(</span><span class="n">confirm</span><span class="o">=</span><span class="k">not</span> <span class="n">main_menu</span><span class="p">)</span>
</pre></div>
</div>
<p>我们在主菜单之前加了一个prologue(序曲)界面，游戏菜单之前加了一个codex(规则)界面，在主菜单和游戏菜单之前都加了一个extras(附加)界面。</p>
</div>
<div class="section" id="screens-game-menu">
<span id="id18"></span><h3>界面——游戏菜单(Screens - Game Menu)<a class="headerlink" href="#screens-game-menu" title="Permalink to this headline"> link</a></h3>
<p>根据定制需求，游戏菜单界面可以被重新制作。新的游戏菜单界面提供了一个标题和可以滚动的视点。一个最小化的定制游戏菜单界面是这样的:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">codex</span><span class="p">():</span>

    <span class="k">tag</span> <span class="k">menu</span>

    <span class="k">use</span> <span class="n">game_menu</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Codex&quot;</span><span class="p">),</span> <span class="n">scroll</span><span class="o">=</span><span class="s2">&quot;viewport&quot;</span><span class="p">):</span>

        <span class="na">style_prefix</span> <span class="s2">&quot;codex&quot;</span>

        <span class="k">has</span> <span class="k">vbox</span><span class="p">:</span>
            <span class="na">spacing</span> <span class="mi">20</span>

        <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;{b}Mechanical Engineering:{/b} Where we learn to build things like missiles and bombs.&quot;</span><span class="p">)</span>

        <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;{b}Civil Engineering:{/b} Where we learn to build targets.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>很明显，一个具有更多功能特性的codex(规则)界面比这要复杂得多。</p>
<p>请注意“tag menu”这行。这行非常重要，因为这行的功能是，在codex界面展示时，隐藏其他菜单界面。如果没有这行，规则界面与其他界面之间的切换就会变得很困难。</p>
</div>
<div class="section" id="screens-click-to-continue">
<span id="id19"></span><h3>界面——单击继续<a class="headerlink" href="#screens-click-to-continue" title="Permalink to this headline"> link</a></h3>
<p>我们希望鼠标单击后进入下一个画面的界面。这是当文本全部显示完之后会出现的界面。这里是一个简单的样例:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">ctc</span><span class="p">():</span>

    <span class="k">frame</span><span class="p">:</span>
        <span class="k">at</span> <span class="n">ctc_appear</span>
        <span class="na">xalign</span> <span class="o">.</span><span class="mi">99</span>
        <span class="na">yalign</span> <span class="o">.</span><span class="mi">99</span>

        <span class="k">text</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;(click to continue)&quot;</span><span class="p">):</span>
            <span class="na">size</span> <span class="mi">18</span>

<span class="k">transform</span> <span class="n">ctc_appear</span><span class="p">:</span>
    <span class="na">alpha</span> <span class="mf">0.0</span>
    <span class="k">pause</span> <span class="mf">5.0</span>
    <span class="n">linear</span> <span class="mf">0.5</span> <span class="na">alpha</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>这个特殊的ctc界面使用了一个延迟5秒的transform(转换)效果展现一个frame。CTC动画延迟几秒后显示是个好主意，这给Ren’Py足够的时间准备和加载图片文件。</p>
</div>
<div class="section" id="total-gui-replacement">
<span id="id20"></span><h3>GUI整体替换<a class="headerlink" href="#total-gui-replacement" title="Permalink to this headline"> link</a></h3>
<p>高级创作者可能会部分甚至全部替换screen.rpy文件的内容。这样做的话，gui.rpy的部分或全部内容都会失效。调用 <a class="reference internal" href="gui_advanced.html#gui.init" title="gui.init"><code class="xref py py-func docutils literal notranslate"><span class="pre">gui.init()</span></code></a> 重置样式(style)可能是个好主意 - ——之后，创作者可能就可以为所欲为了。通常需要保证，在部分或所有的 <a class="reference internal" href="screen_special.html#screen-special"><span class="std std-ref">特殊界面</span></a> 中，用户能使用Ren’Py本身提供的各种基础功能。</p>
</div>
</div>
<div class="section" id="see-also">
<span id="id21"></span><h2>更多<a class="headerlink" href="#see-also" title="Permalink to this headline"> link</a></h2>
<p>关于GUI的更新信息，详见 <a class="reference internal" href="gui_advanced.html#gui-advanced"><span class="std std-ref">高级GUI</span></a> 章节。</p>
</div>
<div class="section" id="gui-changes">
<span id="id22"></span><h2>不兼容的GUI变更<a class="headerlink" href="#gui-changes" title="Permalink to this headline"> link</a></h2>
<p>由于GUI的变化，有时候某些配置项也需要改名。当GUI被重新生成后，这些变更才会生效——不然，新版本的Ren’Py中，游戏会继续使用旧的配置项名称。</p>
<div class="section" id="id23">
<h3>6.99.12.3<a class="headerlink" href="#id23" title="Permalink to this headline"> link</a></h3>
<ul class="simple">
<li>gui.default_font -&gt; gui.text_font</li>
<li>gui.name_font -&gt; gui.name_text_font</li>
<li>gui.interface_font -&gt; gui.interface_text_font</li>
<li>gui.text_xpos -&gt; gui.dialogue_xpos</li>
<li>gui.text_ypos -&gt; gui.dialogue_ypos</li>
<li>gui.text_width -&gt; gui.dialogue_width</li>
<li>gui.text_xalign -&gt; gui.dialogue_text_xalign</li>
</ul>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">返回顶部</a>
      
    </p>
    <p>
        &copy; Copyright 2012-2018, Tom Rothamel.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>